<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()

const items = [
  { name: 'community', label: '커뮤니티', path: '/community' },
  { name: 'jobs', label: '일자리', path: '/region-jobs' },
  { name: 'home', label: '홈', path: '/home' },
  { name: 'infra', label: '인프라', path: '/infra' },
  { name: 'profile', label: '마이페이지', path: '/mypage' },
]

const active = ref('home')

function setActive(it) {
  active.value = it.name
  if (it.path) router.push(it.path)
}
</script>

<template>
  <nav class="absolute bottom-0 left-0 w-full bg-white border-t border-gray-200 z-10">
    <div class="mx-auto max-w-[375px] flex justify-between px-3 pt-2 pb-2">
      <button
        v-for="it in items"
        :key="it.name"
        type="button"
        class="flex flex-col items-center gap-1 min-w-[72px]"
        @click="setActive(it)"
      >
        <span
          class="w-6 h-6"
          :style="{ color: active === it.name ? '#03C473' : '#D1D6DB' }"
        >
          <!-- 홈 (fill 기반) -->
          <svg v-if="it.name === 'home'" xmlns="http://www.w3.org/2000/svg" width="33px" height="25px" viewBox="0 0 33 25" class="w-6 h-6">
            <path
              d="M16.0625 6.48566L5.50043 14.9604V24.107C5.50043 24.3439 5.597 24.571 5.7689 24.7385C5.94079 24.9059 6.17393 25 6.41703 25L12.8366 24.9838C13.0789 24.9826 13.3109 24.888 13.4818 24.7207C13.6527 24.5534 13.7487 24.3269 13.7487 24.0909V18.7493C13.7487 18.5125 13.8452 18.2853 14.0171 18.1179C14.189 17.9504 14.4222 17.8563 14.6652 17.8563H18.3316C18.5747 17.8563 18.8079 17.9504 18.9798 18.1179C19.1517 18.2853 19.2482 18.5125 19.2482 18.7493V24.087C19.2479 24.2045 19.2713 24.3209 19.3172 24.4295C19.3631 24.5382 19.4305 24.637 19.5157 24.7202C19.6008 24.8034 19.702 24.8694 19.8134 24.9145C19.9248 24.9595 20.0442 24.9827 20.1648 24.9827L26.5821 25C26.8252 25 27.0584 24.9059 27.2303 24.7385C27.4022 24.571 27.4987 24.3439 27.4987 24.107V14.9542L16.939 6.48566C16.8148 6.38817 16.6602 6.33501 16.5007 6.33501C16.3413 6.33501 16.1866 6.38817 16.0625 6.48566ZM32.7463 12.2458L27.957 8.39993V0.669718C27.957 0.492097 27.8846 0.321752 27.7557 0.196156C27.6268 0.0705594 27.4519 0 27.2696 0H24.0615C23.8792 0 23.7043 0.0705594 23.5754 0.196156C23.4465 0.321752 23.3741 0.492097 23.3741 0.669718V4.72207L18.2451 0.611117C17.7529 0.21653 17.1353 0.000788785 16.4979 0.000788785C15.8604 0.000788785 15.2428 0.21653 14.7506 0.611117L0.249485 12.2458C0.179874 12.3018 0.122282 12.3707 0.0799993 12.4484C0.0377167 12.5262 0.0115725 12.6113 0.00306037 12.6989C-0.00545171 12.7865 0.00383518 12.8748 0.0303904 12.9589C0.0569457 13.043 0.100249 13.1212 0.157826 13.189L1.61865 14.9191C1.67607 14.9871 1.7467 15.0434 1.82649 15.0848C1.90628 15.1262 1.99366 15.1519 2.08365 15.1603C2.17363 15.1688 2.26444 15.1598 2.35087 15.134C2.43731 15.1083 2.51768 15.0661 2.58738 15.01L16.0625 4.19745C16.1866 4.09997 16.3413 4.04681 16.5007 4.04681C16.6602 4.04681 16.8148 4.09997 16.939 4.19745L30.4147 15.01C30.4842 15.0661 30.5645 15.1083 30.6508 15.1342C30.7371 15.1601 30.8278 15.1691 30.9177 15.1608C31.0076 15.1525 31.095 15.1271 31.1748 15.0859C31.2546 15.0447 31.3253 14.9886 31.3828 14.9207L32.8436 13.1906C32.9012 13.1225 32.9443 13.0439 32.9705 12.9594C32.9968 12.875 33.0056 12.7863 32.9966 12.6985C32.9875 12.6107 32.9607 12.5255 32.9178 12.4478C32.8748 12.3701 32.8165 12.3015 32.7463 12.2458Z"
              fill="currentColor"
            />
          </svg>

          <!-- 커뮤니티 (fill 기반) -->
          <svg v-else-if="it.name === 'community'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="w-6 h-6">
            <path
              d="M12.5 0C5.59476 0 0 5.59476 0 12.5C0 19.4052 5.59476 25 12.5 25C19.4052 25 25 19.4052 25 12.5C25 5.59476 19.4052 0 12.5 0ZM16.5323 8.46774C17.4244 8.46774 18.1452 9.18851 18.1452 10.0806C18.1452 10.9728 17.4244 11.6935 16.5323 11.6935C15.6401 11.6935 14.9194 10.9728 14.9194 10.0806C14.9194 9.18851 15.6401 8.46774 16.5323 8.46774ZM8.46774 8.46774C9.35988 8.46774 10.0806 9.18851 10.0806 10.0806C10.0806 10.9728 9.35988 11.6935 8.46774 11.6935C7.5756 11.6935 6.85484 10.9728 6.85484 10.0806C6.85484 9.18851 7.5756 8.46774 8.46774 8.46774ZM18.2863 17.0464C16.8498 18.7702 14.7429 19.7581 12.5 19.7581C10.2571 19.7581 8.1502 18.7702 6.71371 17.0464C6.02823 16.2248 7.26815 15.1966 7.95363 16.0131C9.08266 17.369 10.7359 18.1401 12.5 18.1401C14.2641 18.1401 15.9173 17.3639 17.0464 16.0131C17.7218 15.1966 18.9667 16.2248 18.2863 17.0464Z"
              fill="currentColor"
            />
          </svg>

          <!-- 일자리 (fill 기반) -->
          <svg v-else-if="it.name === 'jobs'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" class="w-6 h-6">
            <path
              d="M17.4891 16.0069C17.4891 16.4724 17.1121 16.8494 16.6466 16.8494H11.5918C11.1263 16.8494 10.7493 16.4724 10.7493 16.0069V13.4795H0.639648V21.0618C0.639648 22.4097 1.81911 23.5892 3.16706 23.5892H25.0713C26.4193 23.5892 27.5987 22.4097 27.5987 21.0618V13.4795H17.4891V16.0069ZM25.0713 5.05483H20.859V2.52741C20.859 1.17946 19.6795 0 18.3315 0H9.90683C8.55888 0 7.37942 1.17946 7.37942 2.52741V5.05483H3.16706C1.81911 5.05483 0.639648 6.23429 0.639648 7.58224V11.7946H27.5987V7.58224C27.5987 6.23429 26.4193 5.05483 25.0713 5.05483ZM17.4891 5.05483H10.7493V3.36988H17.4891V5.05483Z"
              fill="currentColor"
            />
          </svg>

          <!-- 인프라 (stroke 기반) -->
          <svg v-else-if="it.name === 'infra'" xmlns="http://www.w3.org/2000/svg" width="18.75px" height="22.917px" viewBox="0 0 25 25" class="w-6 h-6">
            <path
              d="M21.875 10.4165C21.875 17.7082 12.5 23.9582 12.5 23.9582C12.5 23.9582 3.125 17.7082 3.125 10.4165C3.125 7.9301 4.11272 5.54553 5.87087 3.78738C7.62903 2.02922 10.0136 1.0415 12.5 1.0415C14.9864 1.0415 17.371 2.02922 19.1291 3.78738C20.8873 5.54553 21.875 7.9301 21.875 10.4165Z"
              stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"
            />
            <path
              d="M12.5 13.5415C14.2259 13.5415 15.625 12.1424 15.625 10.4165C15.625 8.69061 14.2259 7.2915 12.5 7.2915C10.7741 7.2915 9.375 8.69061 9.375 10.4165C9.375 12.1424 10.7741 13.5415 12.5 13.5415Z"
              stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"
            />
          </svg>

          <!-- 마이페이지 (fill 기반) -->
          <svg v-else-if="it.name === 'profile'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="w-6 h-6">
            <g clip-path="url(#clip0_999_485)">
              <path
                d="M12.5 14.0625C16.3818 14.0625 19.5312 10.9131 19.5312 7.03125C19.5312 3.14941 16.3818 0 12.5 0C8.61816 0 5.46875 3.14941 5.46875 7.03125C5.46875 10.9131 8.61816 14.0625 12.5 14.0625ZM18.75 15.625H16.0596C14.9756 16.123 13.7695 16.4062 12.5 16.4062C11.2305 16.4062 10.0293 16.123 8.94043 15.625H6.25C2.79785 15.625 0 18.4229 0 21.875V22.6562C0 23.9502 1.0498 25 2.34375 25H22.6562C23.9502 25 25 23.9502 25 22.6562V21.875C25 18.4229 22.2021 15.625 18.75 15.625Z"
                fill="currentColor"
              />
            </g>
            <defs>
              <clipPath id="clip0_999_485">
                <rect width="25" height="25" fill="white"/>
              </clipPath>
            </defs>
          </svg>
        </span>

        <!-- 텍스트: 활성 #03C473 / 비활성 #A1A1A1 -->
        <span
          class="text-[11px]"
          :style="{ color: active === it.name ? '#03C473' : '#A1A1A1' }"
          :class="active === it.name ? 'font-semibold' : ''"
        >
          {{ it.label }}
        </span>
      </button>
    </div>
  </nav>
</template>
